<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Screenshot Annotator</title>
  <link rel="stylesheet" href="popup.css">
</head>
<body>
  <div class="container">
    <h2>üì∏ Screenshot Annotator</h2>
    
    <div class="capture-section">
      <button id="captureBtn" class="primary-btn">Take Screenshot</button>
    </div>

    <div id="editorSection" class="editor-section hidden">
      <div class="toolbar">
        <button id="arrowTool" class="tool-btn active" title="Draw Arrow">
          <svg width="20" height="20" viewBox="0 0 20 20">
            <path d="M2 18 L18 2 M18 2 L12 2 M18 2 L18 8" stroke="currentColor" fill="none" stroke-width="2"/>
          </svg>
        </button>
        <button id="lineTool" class="tool-btn" title="Draw Line">
          <svg width="20" height="20" viewBox="0 0 20 20">
            <line x1="3" y1="17" x2="17" y2="3" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
          </svg>
        </button>
        <button id="headingTool" class="tool-btn" title="Add Heading">
          <svg width="20" height="20" viewBox="0 0 20 20">
            <text x="3" y="15" font-size="14" font-weight="bold" fill="currentColor">H</text>
            <text x="11" y="15" font-size="10" font-weight="bold" fill="currentColor">1</text>
          </svg>
        </button>
        <button id="textTool" class="tool-btn" title="Add Text">
          <svg width="20" height="20" viewBox="0 0 20 20">
            <text x="4" y="15" font-size="14" font-weight="bold" fill="currentColor">T</text>
          </svg>
        </button>
        <button id="highlightTool" class="tool-btn" title="Highlight">
          <svg width="20" height="20" viewBox="0 0 20 20">
            <rect x="2" y="8" width="16" height="6" fill="currentColor" opacity="0.4"/>
          </svg>
        </button>
        <button id="markerTool" class="tool-btn" title="Marker">
          <svg width="20" height="20" viewBox="0 0 20 20">
            <path d="M4 11 L9 16 L18 4 L13 0 Z" fill="currentColor"/>
            <path d="M3 15 L8 20" stroke="currentColor" stroke-width="3" stroke-linecap="round" opacity="0.6"/>
          </svg>
        </button>
        <button id="filterTool" class="tool-btn" title="Apply Filter">
          <svg width="20" height="20" viewBox="0 0 20 20">
            <circle cx="6" cy="6" r="4" fill="currentColor" opacity="0.8"/>
            <circle cx="14" cy="6" r="4" fill="currentColor" opacity="0.5"/>
            <circle cx="10" cy="14" r="4" fill="currentColor" opacity="0.7"/>
          </svg>
        </button>
        <button id="selectionTool" class="tool-btn" title="Select Region">
          <svg width="20" height="20" viewBox="0 0 20 20">
            <rect x="3" y="3" width="14" height="14" fill="none" stroke="currentColor" stroke-dasharray="3,2" stroke-width="2"/>
          </svg>
        </button>
        <button id="rectangleTool" class="tool-btn" title="Rectangle">
          <svg width="20" height="20" viewBox="0 0 20 20">
            <rect x="3" y="3" width="14" height="14" stroke="currentColor" fill="none" stroke-width="2"/>
          </svg>
        </button>
        <button id="filledRectangleTool" class="tool-btn" title="Filled Rectangle">
          <svg width="20" height="20" viewBox="0 0 20 20">
            <rect x="3" y="3" width="14" height="14" fill="currentColor" opacity="0.85"/>
          </svg>
        </button>
        <button id="ellipseTool" class="tool-btn" title="Ellipse">
          <svg width="20" height="20" viewBox="0 0 20 20">
            <ellipse cx="10" cy="10" rx="7" ry="5" stroke="currentColor" fill="none" stroke-width="2"/>
          </svg>
        </button>
        <button id="blurTool" class="tool-btn" title="Blur/Pixelate">
          <svg width="20" height="20" viewBox="0 0 20 20">
            <rect x="2" y="2" width="3" height="3" fill="currentColor" opacity="0.8"/>
            <rect x="6" y="2" width="3" height="3" fill="currentColor" opacity="0.6"/>
            <rect x="10" y="2" width="3" height="3" fill="currentColor" opacity="0.7"/>
            <rect x="14" y="2" width="3" height="3" fill="currentColor" opacity="0.5"/>
            <rect x="2" y="6" width="3" height="3" fill="currentColor" opacity="0.6"/>
            <rect x="6" y="6" width="3" height="3" fill="currentColor" opacity="0.9"/>
            <rect x="10" y="6" width="3" height="3" fill="currentColor" opacity="0.5"/>
            <rect x="14" y="6" width="3" height="3" fill="currentColor" opacity="0.7"/>
            <rect x="2" y="10" width="3" height="3" fill="currentColor" opacity="0.7"/>
            <rect x="6" y="10" width="3" height="3" fill="currentColor" opacity="0.5"/>
            <rect x="10" y="10" width="3" height="3" fill="currentColor" opacity="0.8"/>
            <rect x="14" y="10" width="3" height="3" fill="currentColor" opacity="0.6"/>
            <rect x="2" y="14" width="3" height="3" fill="currentColor" opacity="0.5"/>
            <rect x="6" y="14" width="3" height="3" fill="currentColor" opacity="0.7"/>
            <rect x="10" y="14" width="3" height="3" fill="currentColor" opacity="0.6"/>
            <rect x="14" y="14" width="3" height="3" fill="currentColor" opacity="0.8"/>
          </svg>
        </button>
        <button id="cropTool" class="tool-btn" title="Crop Screenshot">
          <svg width="20" height="20" viewBox="0 0 20 20">
            <path d="M6 2 L6 6 M6 6 L2 6" stroke="currentColor" fill="none" stroke-width="2" stroke-linecap="round"/>
            <path d="M14 18 L14 14 M14 14 L18 14" stroke="currentColor" fill="none" stroke-width="2" stroke-linecap="round"/>
            <rect x="6" y="6" width="8" height="8" stroke="currentColor" fill="none" stroke-width="2" stroke-dasharray="2,2"/>
          </svg>
        </button>
        
        <div class="separator"></div>
        
        <input type="color" id="colorPicker" value="#FF0000" title="Color">
        <input type="number" id="lineWidth" value="3" min="1" max="10" title="Line Width">
        <select id="headingLevel" class="heading-select hidden" title="Heading Size">
          <option value="h1">Heading 1</option>
          <option value="h2" selected>Heading 2</option>
          <option value="h3">Heading 3</option>
          <option value="h4">Heading 4</option>
        </select>
        <select id="fontFamily" class="font-select hidden" title="Font Family">
          <option value="Arial" selected>Arial</option>
          <option value="Helvetica">Helvetica</option>
          <option value="Georgia">Georgia</option>
          <option value="Times New Roman">Times New Roman</option>
          <option value="Trebuchet MS">Trebuchet MS</option>
          <option value="Montserrat">Montserrat</option>
          <option value="Roboto">Roboto</option>
          <option value="Playfair Display">Playfair Display</option>
          <option value="Fira Sans">Fira Sans</option>
          <option value="Courier New">Courier New</option>
        </select>
        <select id="blurIntensity" class="blur-intensity hidden" title="Blur Intensity">
          <option value="5">Light Blur</option>
          <option value="10" selected>Medium Blur</option>
          <option value="15">Strong Blur</option>
          <option value="20">Maximum Blur</option>
        </select>
        <select id="filterType" class="filter-select hidden" title="Filter Effect">
          <option value="grayscale">Grayscale</option>
          <option value="sepia">Sepia</option>
          <option value="invert">Invert Colors</option>
          <option value="brightness">Brighten</option>
          <option value="contrast">High Contrast</option>
          <option value="saturation">Increase Saturation</option>
          <option value="vintage">Vintage</option>
          <option value="romantic">Romantic Glow</option>
          <option value="neutralEnhancement">Neutral Enhancement</option>
          <option value="vibrantContrast">Vibrant Contrast</option>
          <option value="gingham">Gingham</option>
          <option value="reyes">Reyes</option>
          <option value="slumber">Slumber</option>
          <option value="crema">Crema</option>
          <option value="aden">Aden</option>
          <option value="valencia">Valencia</option>
          <option value="walden">Walden</option>
          <option value="juno">Juno</option>
          <option value="lark">Lark</option>
          <option value="ludwig">Ludwig</option>
          <option value="lofi">Lo-Fi</option>
          <option value="hefe">Hefe</option>
          <option value="nashville">Nashville</option>
          <option value="warmVintage">Warm Vintage</option>
          <option value="moodyShadows">Moody Shadows</option>
          <option value="dramaticTones">Dramatic Tones</option>
          <option value="dreamyGlow">Dreamy Glow</option>
          <option value="lrWarm">Lightroom Warm</option>
          <option value="lrCool">Lightroom Cool</option>
          <option value="lrMatte">Lightroom Matte</option>
          <option value="clarendon">Clarendon</option>
          <option value="mono">Mono</option>
        </select>
        <button id="filterApplyBtn" class="tool-btn hidden" title="Apply Filter" style="background: #4CAF50; color: white;">‚úì Filter</button>
        <button id="filterClearBtn" class="tool-btn hidden" title="Clear Selection" style="background: #f44336; color: white;">‚úó Clear</button>
        <button id="selectionCopyBtn" class="tool-btn hidden" title="Copy Selection" style="background: #4CAF50; color: white;">‚ßâ Copy</button>
        <button id="selectionCutBtn" class="tool-btn hidden" title="Cut Selection" style="background: #f44336; color: white;">‚úÇ Cut</button>
    <button id="textApplyBtn" class="tool-btn hidden" title="Place Text" style="background: #4CAF50; color: white;">‚úì Done</button>
    <button id="textCancelBtn" class="tool-btn hidden" title="Cancel Text" style="background: #f44336; color: white;">‚úó Cancel</button>
        
        <div class="separator"></div>
        
        <button id="undoBtn" class="tool-btn" title="Undo">‚Ü∂</button>
        <button id="clearBtn" class="tool-btn" title="Clear All">üóëÔ∏è</button>
        <button id="applyCropBtn" class="tool-btn hidden" title="Apply Crop" style="background: #4CAF50; color: white;">‚úì Crop</button>
        <button id="cancelCropBtn" class="tool-btn hidden" title="Cancel Crop" style="background: #f44336; color: white;">‚úó Cancel</button>
      </div>

      <div class="canvas-container">
        <canvas id="annotationCanvas"></canvas>
      </div>

      <div class="save-section">
        <div class="folder-input">
          <label for="folderName">Folder:</label>
          <input type="text" id="folderName" placeholder="screenshots" value="screenshots">
        </div>
        <div class="filename-input">
          <label for="fileName">Filename:</label>
          <input type="text" id="fileName" placeholder="screenshot">
          <span class="file-ext" id="fileExtLabel">.png</span>
        </div>
        <div class="format-input">
          <label for="fileFormat">Format:</label>
          <select id="fileFormat">
            <option value="png" selected>PNG (.png)</option>
            <option value="pdf">PDF (.pdf)</option>
          </select>
        </div>
        <div class="button-group">
          <button id="saveBtn" class="primary-btn">üíæ Save</button>
          <button id="cancelBtn" class="secondary-btn">Cancel</button>
        </div>
      </div>
    </div>
  </div>
  <div class="resize-handle"></div>
  <script src="popup.js"></script>
</body>
</html>
